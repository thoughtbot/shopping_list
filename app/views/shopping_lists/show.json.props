json.header do
  json.title "Family Shopping List"
end

json.items(partial: ["item_list", fragment: "shopping_list"]) do
end
# 
json.totalCost(defer: [:auto, placeholder: { amount: "Calculating...", message: "Getting current prices" }]) do
  # Simulate expensive API call to get current prices
  sleep 3
  json.amount "$23.45"
  json.message "Estimated total based on current prices"
end

json.newItemForm do
  form_props(model: Item.new, url: items_path) do |f|
    f.text_field :name, placeholder: "Add item..."
    f.submit "Add"
  end
end